.row.select-category.single-head
  .col-md-1
  .col-md-8.col-xs-8
    %h3 
      = @question.title
#question_content.row.question-main-content.question-item
  - if !current_administrator
    .col-md-2.col-xs-2.vote-block
      %ul
        %li{"data-original-title" => "This is useful.", :title => ""}
          = vote_link(@question, 'up')
        %li
          %span.vote-count{id: "upvote_question#{@question.id}" }
            = @question.get_likes.size
        %li
          %span.vote-count{id: "downvote_question#{@question.id}"}  
            = @question.get_dislikes.size
        %li{"data-original-title" => "This is useful.", :title => ""}
          = vote_link(@question, 'down')
  - else 
    .col-md-1
  .col-md-9.col-xs-9.q-right-content
    -if !(current_administrator)
      %ul.post-controls      
        - if @question.askable == current_user
          %li
            = link_to '',edit_question_path(@question.id), class: 'post-edit action fa fa-pencil',rel: 'tooltip',title: t('common.links.edit'), 'data-no-turbolink' => true
          %li
            = link_to '',question_path,method: :delete,data: {confirm: t('common.links.delete.confirm')},rel: 'tooltip',title: t('common.links.delete_link'), class: 'post-delete action fa fa-trash-o'
        
        - if (check_bookmark @question).blank?
          %li
            = link_to '', bookmarks_path(:question_id => @question.id), method: :post,rel: 'tooltip',title: t('questions.links.add_bookmark'), class: 'post-delete action fa fa-plus'
        -else
          %li
            = link_to '',bookmark_path(:question_id => @question.id), method: :delete,data: {confirm: t('common.links.delete.confirm')},rel: 'tooltip',title: t('questions.links.delete_bookmark'), class: 'post-delete action fa fa-minus-square'    
    .top-content
      - if @question.answers.count > 0
        %span.answered
          %i.fa.fa-check
            = t('questions.basic.answered')
      = render :partial => 'question_tags', :locals => { :object => @question}
    .clearfix
    .question-content
      = raw(@question.content)
    .row
      .col-md-8.col-xs-9.question-cat
        - if @question.askable_type != 'Teacher'
          = link_to student_views_profile_path(@question.askable.id,user: 'Student') do
            %span.avatar
              - if @question.askable.avatar.present? && File.exists?(@question.askable.avatar.path)
                = image_tag "#{@question.askable.avatar.url}", alt: 'this', class: 'img-circle user-thumb-img'
              - else
                = image_tag "missing.jpeg", alt: 'this', class: 'img-circle profile-img'
            %span.author-name                
              - if @question.askable.student_manager?
                .student_manager{rel: "tooltip",title: t('students.tooltip.manager')} 
                  = @question.askable.username
              - else
                = @question.askable.username
          %span.user-badge.student-class
            = @question.askable.class
        - else                    
          %span.avatar
            - if @question.askable.avatar.present? && File.exists?(@question.askable.avatar.path)
              = image_tag "#{@question.askable.avatar.url}", alt: 'this', class: 'img-circle user-thumb-img'
            - else
              = image_tag "missing.jpeg", alt: 'this', class: 'img-circle profile-img'
          %span.author-name   
            = @question.askable.username
          %span.user-badge.teacher-class
            = @question.askable.class
        %span.question-time
          #{time_ago_in_words(@question.created_at)} ago.
      - if !current_administrator
        .col-md-4.col-xs-4.question-control
          = render :partial => 'link_to_comment', :locals => { object: @question, id: "question#{@question.id}"}
          %span{id: "comment_count"}
            (
            = @question.comments.count
            )
    .comments-container.collapse.hidden_comment-box{id: 'commentquestion' + "#{@question.id}"}              
      = render partial: 'comments/create_comment',locals: {commentable: @question}
    %br/
    = render 'comments/show_comments_of_questions'
    - if @question_comments.present?           
      .row.paginations.home
        .col-md-12{id:'paginator'}
          .spacer10
          = paginate @question_comments
    .clearfix
- if @question.answers.count > 0
  .sticky-wrapper
    #answers_filter.row.answers-filter
      .max-col-md-8
        .col-md-6.col-xs-6
          %span.answers-count
            %span.number 
              = @question.answers.count
            Answers
/ ANSWERS LOOP
#answers_main_list
  = render 'answers_list', locals: { :answers =>  @answer}
.row
  .col-md-12
    .answer-item.answer-pagination
      .spacer20
      =paginate @answers
  - if !current_administrator
    .spacer50
    = render 'answers/form'